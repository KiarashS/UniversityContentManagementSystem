@using Microsoft.AspNetCore.Authorization
@using ContentManagement.Services
@inject IAuthorizationService AuthorizationService

<h3>داشبورد</h3>
<hr />
<div class="row">
    <div class="col">
        <div class="alert alert-info">
            رنگ پایه سیستم برای انتخاب رنگ آیکون بخش های مختلف در جهت حفظ سازگاری: <strong dir="ltr">@SiteSettings.Value.BaseColor</strong>
        </div>
    </div>
</div>
<div class="row">
    @if ((await AuthorizationService.AuthorizeAsync(User, CustomRoles.Admin)).Succeeded)
    {
    <div class="col-xl-3 col-sm-6 mb-3">
        <div class="card text-white bg-primary o-hidden h-100">
            <div class="card-body">
                <div class="card-body-icon">
                    <i class="fa fa-fw fa-columns"></i>
                </div>
                <div class="mr-5">تعداد پرتال ها: @ViewBag.PortalsCount</div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="/manage/portal/">
                <span class="float-left">مدیریت پرتال ها</span>
                <span class="float-right">
                    <i class="fa fa-angle-left"></i>
                </span>
            </a>
        </div>
    </div>
    }
    <div class="col-xl-3 col-sm-6 mb-3">
        <div class="card text-white bg-warning o-hidden h-100">
            <div class="card-body">
                <div class="card-body-icon">
                    <i class="fa fa-fw fa-list"></i>
                </div>
                <div class="mr-5">تعداد مطالب: @ViewBag.ContentsCount</div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="/manage/content/">
                <span class="float-left">مدیریت مطالب</span>
                <span class="float-right">
                    <i class="fa fa-angle-left"></i>
                </span>
            </a>
        </div>
    </div>
    <div class="col-xl-3 col-sm-6 mb-3">
        <div class="card text-white bg-success o-hidden h-100">
            <div class="card-body">
                <div class="card-body-icon">
                    <i class="far fa-file"></i>
                </div>
                <div class="mr-5">تعداد صفحات: @ViewBag.PagesCount</div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="/manage/page/">
                <span class="float-left">مدیریت صفحات</span>
                <span class="float-right">
                    <i class="fa fa-angle-left"></i>
                </span>
            </a>
        </div>
    </div>
    <div class="col-xl-3 col-sm-6 mb-3">
        <div class="card text-white bg-danger o-hidden h-100">
            <div class="card-body">
                <div class="card-body-icon">
                    <i class="fas fa-link"></i>
                </div>
                <div class="mr-5">تعداد لینک ها: @ViewBag.LinksCount</div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="/manage/link/">
                <span class="float-left">مدیریت لینک ها</span>
                <span class="float-right">
                    <i class="fa fa-angle-left"></i>
                </span>
            </a>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-xl-12 col-sm-12 mb-12">
        <div class="card">
            <h5 class="card-header">
                <i class="far fa-star text-warning"></i>
                دسترسی سریع
            </h5>
            <div id="quick-access" class="card-block" style="padding-top: 20px; padding-bottom: 20px;">
                <div class="row justify-content-md-center">
                    <div class="col-md-auto"><a href="/manage/content/add/?t=news" class="hvr-buzz nounderline"><img src="~/statics/News.png" alt="درج خبر جدید" width="125" /><span class="d-block text-center">درج خبر</span></a></div>
                    <div class="col-md-auto"><a href="/manage/content/add/?t=announcement" class="hvr-buzz nounderline"><img src="~/statics/Announcement.png" alt="درج اطلاعیه جدید" width="125" /><span class="d-block text-center">درج اطلاعیه</span></a></div>
                    <div class="col-md-auto"><a href="/manage/content/add/?t=education" class="hvr-buzz nounderline"><img src="~/statics/Education.png" alt="درج خبر آموزشی جدید" width="125" /><span class="d-block text-center">درج خبر آموزشی</span></a></div>
                    <div class="col-md-auto"><a href="/manage/content/add/" class="hvr-buzz nounderline"><img src="~/statics/Content.png" alt="درج مطلب جدید" width="125" /><span class="d-block text-center">درج مطلب</span></a></div>
                    <div class="col-md-auto"><a href="/manage/content/" class="hvr-buzz nounderline"><img src="~/statics/ContentAdmin.png" alt="مدیریت مطالب" width="125" /><span class="d-block text-center">مدیریت مطالب</span></a></div>
                    @if ((await AuthorizationService.AuthorizeAsync(User, CustomRoles.Admin)).Succeeded){ <div class="col-md-auto"><a href="/manage/portal/add/" class="hvr-buzz nounderline"><img src="~/statics/Portal.png" alt="ایجاد پرتال جدید" width="125" /><span class="d-block text-center">ایجاد پرتال</span></a></div>}
                    <div class="col-md-auto"><a href="/manage/navbar/add/" class="hvr-buzz nounderline"><img src="~/statics/Menu.png" alt="ایجاد منوی جدید" width="125" /><span class="d-block text-center">ایجاد منوی</span></a></div>
                    <div class="col-md-auto"><a href="/manage/slide/add/" class="hvr-buzz nounderline"><img src="~/statics/Slide.png" alt="ایجاد اسلاید جدید" width="125" /><span class="d-block text-center">ایجاد اسلاید</span></a></div>
                    <div class="col-md-auto"><a href="/manage/page/add/" class="hvr-buzz nounderline"><img src="~/statics/Page.png" alt="ایجاد صفحه جدید" width="125" /><span class="d-block text-center">ایجاد صفحه</span></a></div>
                    <div class="col-md-auto"><a href="/manage/link/add/" class="hvr-buzz nounderline"><img src="~/statics/Link.png" alt="درج لینک جدید" width="125" /><span class="d-block text-center">درج لینک</span></a></div>
                </div>
            </div>
        </div>
    </div>
</div>
